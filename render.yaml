services:
    - type: web
      name: payment gateway with square
      env: docker
      autoDeploy: true
      healthCheckPath: /healthz
      plan: free
      envVars:
          - key: DATABASE_URL
            fromDatabase:
                name: payment gateway with square db
                property: connectionString
          - key: NODE_ENV
            value: production
          - key: PORT
            value: 10000
          - key: JWT_SECRET
            generateValue: true
          - key: SQUARE_ACCESS_TOKEN
            value: --
    - type: static
      name: payment gateway frontend with square
      buildCommand: true
      staticPublishPath: ./public
      headers:
          - path: /*
            name: Cache-Control
            value: no-cache
      pullRequestPreviewsEnabled: true
      autoDeploy: true
      plan: free
databases:
    - name: payment gateway with square db
      plan: free
